{
  "apiVersion": "cmf.confluent.io/v1",
  "kind": "ComputePool",
  "metadata": {
    "name": "pool"
  },
  "spec": {
    "type": "DEDICATED",
    "clusterSpec": {
      "flinkVersion": "${CP_FLINK_MAJOR_VERSION}",
      "image": "confluentinc/cp-flink-sql:${CP_FLINK_SQL_TAG}",
      "flinkConfiguration": {
        "pipeline.operator-chaining.enabled": "false",
        "execution.checkpointing.interval": "10s",
        "kubernetes.taskmanager.cpu.limit-factor": "10",
        "kubernetes.jobmanager.cpu.limit-factor": "10"
      },
      "taskManager": {
        "resource": {
          "cpu": 0.1,
          "memory": "1024m"
        }
      },
      "jobManager": {
        "resource": {
          "cpu": 0.1,
          "memory": "1024m"
        }
      },
      "podTemplate": {
        "spec": {
          "containers": [
            {
              "name": "flink-main-container",
              "volumeMounts": [
                {
                  "name": "tls-client",
                  "mountPath": "/mnt/certs"
                }
              ]
            }
          ],
          "volumes": [
            {
              "name": "tls-client",
              "secret": {
                "secretName": "tls-client"
              }
            }
          ]
        }
      }
    }
  }
}
